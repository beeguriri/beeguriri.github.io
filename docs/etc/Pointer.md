---
layout: default
title: (C/C++) 포인터
nav_order: 1
parent: ETC
---



## 📑 Pointer와 증감 연산자

```c
*p++; //p의 내용물을 구하고 포인터 이동
*++p; //p인터 이동 후 p의 내용물을 구함
(*p)++; //포인터의 내용물을 증가
++(*p); //포인터의 내용물을 증가
```

```c
#include <stdio.h>
void main() {
    
    int a [] = {10, 20, 30, 40};
    int *p = a+1, y1, y2;
    *p++;			//pointer 이동, 30 가르키고 있음
    y1 = ++*p;		//30 -> 31로 증가
    *++p;			//pointer 이동, 40 가르킴
    y2 = (*p)++;	//p번지의 값을 구하고(y2=40), p번지의 값 40 -> 41로 증가
    printf("%d %d %d", y1, y2, a[3]); //31, 40, 41
}
```

```c
int main(void) {

 int a[][2] = { {100, 200}, {300, 400} }, b[4];
 int *p = &a[0][0];

 b[0] = p[0]++; //(=(*p)++) 포인터의 값 대입 후, 포인터 값 변경
 printf("b[0] = %d\n", b[0]);      //100
 printf("pointer = %d\n", *p);     //101

 b[1] = *p++ +1;    //포인터의 값 대입 후, 포인터 이동    
 printf("b[1] = %d\n", b[1]);      //102
 printf("pointer = %d\n", *p);     //200

 b[2] = (*p)++; //포인터의 값 변경
 printf("b[2] = %d\n", b[2]);      //200
 printf("pointer = %d\n", *p);     //201

 p+=1;  //포인터 이동
 b[3] = ++*p;   //포인터의 값 변경
 printf("b[3] = %d\n", b[3]);      //301
 printf("pointer = %d\n", *p);     //301

 return 0;

}
```



## 📑 2차원 배열에서 포인터

- a(2)(4) 배열이 있을 때

| a      |          |          |          | a+1    |          |          |          |
| ------ | -------- | -------- | -------- | ------ | -------- | -------- | -------- |
| a(0)   | a(0)+1   | a(0)+2   | a(0)+3   | a(1)   | a(1)+1   | a(1)+2   | a(1)+3   |
| (0,0)  | (0,1)    | (0,2)    | (0,3)    | (1,0)  | (1,1)    | (1,2)    | (1,3)    |
| *a+0   | *a+1     | *a+2     | *a+3     | *a+4   | *a+5     | *a+6     | *a+7     |
| *(a+0) | *(a+0)+1 | *(a+0)+2 | *(a+0)+3 | *(a+1) | *(a+1)+1 | *(a+1)+2 | *(a+1)+3 |



## 📑 Pointer의 뺄셈

- 메모리에 할당되어 있는 변수의 상대 위치 순서를 빼는 것

```c
void main() {
    
    int i, array[10];
    int *p = array;
    
    for( ;p<array+10; )
        *p++ = p - array;
    
    for(i=0; i<10; i++)
        printf("%d ",array[i]);
}
```

```shell
결과
0 1 2 3 4 5 6 7 8 9
```



## 📑 Pointer와 const

```c
const int *p1; //p1에 새로운 값 대입할 수 없다

//p2 값 자체가 변경될 수 없으나(포인터 상수)
//p2가 가르키는 주소값은 변경 될 수 있음
int * const p2;
char * const p2 = "안녕";
*p2 = 'k';

//p3는 항상 같은 주소를 가르키고
//p3가 가르키는 주소의 내용도 변경될 수 없다
const int * const p3;

```

