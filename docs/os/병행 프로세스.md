---
layout: default
title: ë³‘í–‰ í”„ë¡œì„¸ìŠ¤
nav_order: 2
parent: os
---



## ğŸ“‘ ë³‘í–‰ í”„ë¡œì„¸ìŠ¤

- í”„ë¡œì„¸ì„œ í•˜ë‚˜ëŠ” í•œ ë²ˆì— í”„ë¡œì„¸ìŠ¤ í•˜ë‚˜ë§Œ ì‹¤í–‰
- ë³‘í–‰ í”„ë¡œì„¸ìŠ¤ : ìš´ì˜ì²´ì œê°€ í”„ë¡œì„¸ì„œë¥¼ ë¹ ë¥´ê²Œ ì „í™˜í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•¨
- ê³µìœ  ìì›ì„ ìƒí˜¸ ë°°íƒ€ì ìœ¼ë¡œ ì‚¬ìš©
- ë³‘í–‰ í”„ë¡œì„¸ìŠ¤ ê°„ì—ëŠ” í˜‘ë ¥ì´ë‚˜ ë™ê¸°í™”ê°€ ë˜ì–´ì•¼ í•¨
- í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ ì†ë„ì™€ ê´€ê³„ì—†ì´ í•­ìƒ ì¼ì •í•œ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³´ì¥
- êµì°© ìƒíƒœë¥¼ í•´ê²°í•˜ì—¬ ë³‘ë ¬ ì²˜ë¦¬ ëŠ¥ë ¥ ê·¹ëŒ€í™” 
- ìƒí˜¸ ë°°ì œ : ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ ì‘ì—…ì„ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë‚˜ë¨¸ì§€ í”„ë¡œì„¸ìŠ¤ëŠ” ê·¸ê²ƒê³¼ ê´€ë ¨ëœ ì‘ì—… ìˆ˜í–‰í•  ìˆ˜ ì—†ë„ë¡ ë³´ì¥



## ğŸ“‘ ë™ê¸°í™”

- `Race Condition` : ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œë“¤ì´ ê³µìœ  ëœ ìì›ì— ì ‘ê·¼ ì‹œ í•˜ë‚˜ì˜ ìì›ì„ ë†“ê³  ì„œë¡œ ê²½ìŸí•˜ë ¤ëŠ” ìƒí™©

### â­ ì„ê³„ ì˜ì—­

- ê³µìœ ë˜ëŠ” ìì›ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë…ì ì„ ë³´ì¥í•´ ì¤˜ì•¼ í•˜ëŠ” ì˜ì—­
- í”„ë¡œì„¸ìŠ¤ê°€ `ì„ê³„ì˜ì—­ ì‹¤í–‰ ì‹œì‘` í•˜ë©´ `ì„ê³„ì˜ì—­ ì‹¤í–‰ ì¢…ë£Œ` ê¹Œì§€ ë°©í•´ ë°›ì§€ ì•Šê³  ìˆ˜í–‰ í•˜ë„ë¡ í•´ì•¼ í•¨
- ì„ê³„ ì˜ì—­ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì¡°ê±´ : `ìƒí˜¸ ë°°ì œ ` `ì§„í–‰` `ì œí•œëœëŒ€ê¸°`
  - ìƒí˜¸ë°°ì œ : í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°€ ìˆë‹¤ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ëŠ” ë“¤ì–´ê°ˆ ìˆ˜ ì—†ì–´ì•¼ í•œë‹¤.
  - ì§„í–‰ : ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°„ í”„ë¡œì„¸ìŠ¤ê°€ ì—†ëŠ” ìƒíƒœì—ì„œ, ë“¤ì–´ê°€ë ¤ê³  í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ ê°œ ìˆë‹¤ë©´ ì–´ëŠ ê²ƒì´ ë“¤ì–´ ê°ˆì§€ ì ì ˆíˆ ê²°ì • í•´ì£¼ì–´ì•¼ í•œë‹¤.
  - ì œí•œëœ ëŒ€ê¸° : ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ê¸°ì•„(Starvation)ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, í•œ ë²ˆ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°„ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒ ë²ˆ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°ˆ ë•Œ ì œí•œì„ ë‘ì–´ì•¼ í•œë‹¤.



### â­ ìƒí˜¸ ë°°ì œ í•´ê²° 

- ë°ì»¤ ì•Œê³ ë¦¬ì¦˜ (N=2)

```c
while(1){
  flag[i] = true;          //í”„ë¡œì„¸ìŠ¤i ì„ê³„ì˜ì—­ ì§„ì… ì•Œë¦¼
  while(flag[j]) {        //í”„ë¡œì„¸ìŠ¤j ì„ê³„ì˜ì—­ ì§„ì… ì—¬ë¶€ í™•ì¸
    if(turn==j) {        //í”„ë¡œì„¸ìŠ¤jê°€ ì„ê³„ì˜ì—­ ë‚´ë¶€ì— ìˆìœ¼ë©´
      flag[i] = false;    //í”„ë¡œì„¸ìŠ¤iì˜ ì§„ì… ì·¨ì†Œ
      while(turn==j);      //í”„ë¡œì„¸ìŠ¤j ìˆ˜í–‰
      flag[i] = true;      //í”„ë¡œì„¸ìŠ¤i ì§„ì… ì•Œë¦¼
    }
  }
  //ì„ê³„ì˜ì—­
  //...

  //ì„ê³„ì˜ì—­ ë
  turn = j;                //ì„ê³„êµ¬ì—­ ì‚¬ìš© í›„ í”„ë¡œì„¸ìŠ¤jì— ì°¨ë¡€ ë„˜ê¹€
  flag[i] = false;        //í”„ë¡œì„¸ìŠ¤i ì„ê³„êµ¬ì—­ ì‚¬ìš© ì™„ë£Œ ì•Œë¦¼
}
```

- í”¼í„°ìŠ¨ ì•Œê³ ë¦¬ì¦˜ (N=2)

```c
while(1){
  flag[i] = true;          //í”„ë¡œì„¸ìŠ¤i ì„ê³„ì˜ì—­ ì§„ì… ì•Œë¦¼
  turn = j;
  while(flag[j] && turn==j){
    //ì„ê³„ì˜ì—­ ì‚¬ìš© ê°€ëŠ¥í•œì§€ ê³„ì† í™•ì¸
  };

  //ì„ê³„ì˜ì—­ ì‹œì‘
  //...

  //ì„ê³„ì˜ì—­ ë
  flag[i] = false;
}
```

- ë¹µì§‘ ì•Œê³ ë¦¬ì¦˜ (N>2)
  - í”„ë¡œì„¸ìŠ¤ì— ê³ ìœ  ë²ˆí˜¸ ë¶€ì—¬, ìš°ì„ ìˆœìœ„ ë†’ì€ í”„ë¡œì„¸ìŠ¤ ë¨¼ì € ì§„ì…
  - ë²ˆí˜¸ê°€ ë‚®ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ

```c
while(1){
  //ìš°ì„ ìˆœìœ„ ë¶€ì—¬ë°›ê¸°
  choosing[i] = true;
  number[i] = max(number[0], number[1], ... , number[n-1]) + 1;
  choosing[i] = false;

  for(j=0; j<n; j++) {
    while(choosing[j]); //jê°€ ìš°ì„ ìˆœìœ„ ë°›ì„ë•Œ ê¹Œì§€ ëŒ€ê¸°
    while(number[j]!=0 &&
         	(number[j]<number[i] //í”„ë¡œì„¸ìŠ¤ jê°€ ìš°ì„ ìˆœìœ„ê°€ ë†’ê±°ë‚˜
            	|| number[j]==number[i] && j<i) //ìš°ì„ ìˆœìœ„ê°€ ê°™ì„ ë•Œ jê°€ ië³´ë‹¤ ì‘ìœ¼ë©´ ëŒ€ê¸°
  }  

  //ì„ê³„ì˜ì—­ ì‹œì‘
  //...

  //ì„ê³„ì˜ì—­ ë
  number[i] = 0;
}
```

- TestAndSet ëª…ë ¹ì–´
- ì„¸ë§ˆí¬ì–´
  - ì„¸ë§ˆí¬ì–´ ë³€ìˆ˜(ì •ìˆ˜í˜•) Sì™€ P(wait), V(signal) ì—°ì‚°ìœ¼ë¡œ ì´ë£¨ì–´ì§
  - ì„¸ë§ˆí¬ì–´ì˜ ì¹´ìš´íŠ¸ëŠ” 1 ì´ìƒì´ë©°
  - ì¹´ìš´íŠ¸ë¥¼ ì¡°ì ˆí•˜ì—¬ ì§„ì… ê°€ëŠ¥í•œ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ ìˆ˜ ì¡°ì ˆ

```c
P(S) : while S<=0 do no-op; //ì„ê³„êµ¬ì—­ ì§„ì… ê°€ëŠ¥í• ë•Œê¹Œì§€ ë¹ˆ ë°˜ë³µë¬¸ ìˆ˜í–‰
		S := S-1;
V(S) : S := S+1;
```

- ë®¤í…ìŠ¤
  - ë™ê¸°í™” ëŒ€ìƒì´ í•˜ë‚˜
  - í•œ ìŠ¤ë ˆë“œ, í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ì†Œìœ ë  ìˆ˜ ìˆëŠ” í‚¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ìƒí˜¸ ë°°ì œ



## ğŸ“‘ êµì°© ìƒíƒœ

- ë‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° ì‹œìŠ¤í…œì—ì„œ ê²°ì½” ì¼ì–´ë‚˜ì§€ ì•Šì„ ì‚¬ê±´ì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤

### â­ êµì°©ìƒíƒœ í•„ìš”ì¡°ê±´

- ìƒí˜¸ë°°ì œ : í•œë²ˆì— í•œ í”„ë¡œì„¸ìŠ¤ë§Œì´ ê·¸ ìì›ì„ ì‚¬ìš©
- ì ìœ ì™€ ëŒ€ê¸° : ì ì–´ë„ í•˜ë‚˜ì˜ ìì›ì„ ë³´ìœ í•˜ê³ , í˜„ì¬ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹ ëœ ìì›ì„ ê¸°ë‹¤ë¦¼
- ë¹„ì„ ì  : ìì›ì„ ì ìœ í•˜ê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ëë‚˜ì•¼ ìì› í•´ì œ
- ìˆœí™˜ëŒ€ê¸° : ê° í”„ë¡œì„¸ìŠ¤ëŠ” ìì‹ ì—ê²Œ í• ë‹¹ëœ ìì›ì„ ê°€ì§€ë©´ì„œ ìƒëŒ€ë°© í”„ë¡œì„¸ìŠ¤ì˜ ìì›ì„ ìƒí˜¸ ìš”ì²­



### â­ êµì°©ìƒíƒœ ì˜ˆë°©

- ì ìœ ì™€ ëŒ€ê¸° ë¶€ì •
  - ê° í”„ë¡œì„¸ìŠ¤ëŠ” í•œë²ˆì— ìê¸°ê°€ í•„ìš”í•œ ëª¨ë“  ìì›ì„ ìš”êµ¬í•´ì•¼ í•¨
- ë¹„ì„ ì  ë¶€ì •
  - í”„ë¡œì„¸ìŠ¤ëŠ” í•„ìš” ì‹œ ìì› ìš”êµ¬, ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•ŒëŠ” ìì› ë°˜ë‚©
- ìˆœí™˜ëŒ€ê¸° ë¶€ì •
  - ìì› ìœ í˜• ë³„ë¡œ í• ë‹¹ ìˆœì„œ ë¶€ì—¬, ìˆœì„œì— ë”°ë¼ ìì› ìš”êµ¬



### â­ êµì°©ìƒíƒœ íšŒí”¼

- ì€í–‰ê°€ ì•Œê³ ë¦¬ì¦˜
  - í”„ë¡œì„¸ìŠ¤ê°€ ì–´ë–¤ ìì›ì„ ìš”ì²­í•  ë•Œ
  - ì´ ìì›ì„ í• ë‹¹í–ˆì„ ë•Œ êµì°© ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ë©´ ìì› í• ë‹¹ í•˜ì§€ ì•ŠìŒ.

