---
layout: default
title: (참고) CPU
nav_order: 8
parent: os
---



## 📑 중앙처리장치(CPU)

- 제어 장치 : 명령을 해독하고 제어 신호를 발생하여 제어 기능 수행
- 연산 장치 : 각종 연산 실행
- 레지스터 : 데이터 임시 저장
- 버스 : 데이터 전달

### ⭐ 제어 장치

- 주소 지정 방식
  - 즉시 주소지정방식 : 데이터 인출을 위해 `주기억장치 접근이 필요 없으므로` 실행 사이클 짧음
  - 직접 주소지정방식 : 데이터 인출을 위해 `기억장치 1회 접근`
  - 간접 주소지정방식 : 데이터 인출을 위해 `기억장치 2회 접근`
  - 레지스터 주소지정 방식 : 데이터 인출을 위해 `기억장지 접근 필요 없음`, 연산에 사용 될 데이터가 레지스터에 저장
  - 레지스터 간접 주소지정방식 : 오퍼랜드 필드가 가리키는 레지스터의 내용이 유효 주소
  - 변위 주소지정방식 : 레지스터 번호가 가리키는 내용에 변위가 더해져 유효주소 결정




### ⭐ 인터럽트

- CPU가 현재 실행중인 프로그램의 처리를 강제적으로 중단 시키고
- 특정 주소에 위치한 프로그램을 수행하게 함
- 동작 순서
  - 인터럽트 발생장치로부터 인터럽트 요청이 있으면
  - 현재 수행중인 프로그램 상태를 안전한 기억장소에 저장
  - 인터럽트 장치와 원인을 분석하여, 해당된 인터럽트 서비스 루틴 수행, 조치
  - 미리 보존 된 프로그램 상태 복구시켜, 중단된 곳에서부터 프로그램 계속 수행
  - 인출 -> 실행 -> 인터럽트 -> 인출
- 판별법
  - 폴링 : 소프트웨어에 의한 방식, `하나의 인터럽트 처리 루틴`
  - 벡터 인터럽트 : 하드웨어에 의한 방식, `장치 번호 버스 설치`
  - 데이지 체인 방식 : `하나의 인터럽트 요구선 공유`, 우선순위 높은 순으로 처리



### ⭐ 명령 실행과 제어

![](https://github.com/beeguriri/beeguriri.github.io/blob/main/docs/img/cpu.png?raw=true)

- PC (Program Counter) : 다음에 인출할 명령어의 주소, 명령어 인출 후 counter 증가
- IR (명령어 레지스터) : 가장 최근에 인출 된 명령어 저장
- AC : 데이터 일시적 저장
- MAR : 기억장치 `주소` 레지스터
- MBR : 기억장치에 쓰여질 혹은 읽혀진 `데이터`를 일시적으로 저장
- 인출 사이클

```
MAR <- PC
MBR <- M[MAR], PC <- PC+1
IR <- MBR
```

- 실행 사이클

```
// 데이터 이동
MAR <- IR(addr)
MBR <- M[MAR]
AC <- MBR

// 데이터 처리
MAR <- IR(addr)
MBR <- M[MAR]
AC <- AC + MBR

// 데이터 저장
MAR <- IR(addr)
MBR <- AC
M[MAR] <- MBR

// 제어
PC <- IR(addr)
```

- 마이크로 오퍼레이션 사이클 타임
  - 동기 고정식 : 수행시간 가장 긴 것으로 CPU 클락 주기 정함
  - 동기 가변식 : 수행시간 유사한것 끼리 모아서 하나의 군을 만듦
  - 비동기식 : 원하는 만큼의 cycle time 각각 할당
